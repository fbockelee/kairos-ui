##
#set( $jdbcTool = $loader.newInstance("JdbcTool") )
$jdbcTool.setAllFromConfig($project.specificVariables)##
$jdbcTool.setOrderby("ORDER BY ext2, ext4, ext3")##
#set( $extAttributes=$jdbcTool.getExtFieldAttributes($entity))
##
#set ( $LCentityName = $fn.uncapitalize($entity.name) )
#set ($idsPrefix = "${LCentityName}.")
<!-- File generated by $generator.name ( version $generator.version ) - Date $today.date("yyyy-MM-dd") ( Time $today.time ) --> 

<mat-card>
  	<mat-card-header>
      	<mat-card-title>
          {{ title }} <a mat-raised-button class="card-header-button" routerLink="../${LCentityName}-form"><mat-icon>add</mat-icon>Cr√©er</a>
        </mat-card-title>
    </mat-card-header>
    <mat-card-content class="login-container">
        <mat-table [dataSource]="dataSource" class="mat-elevation-z8">
#foreach ( $extattrib in $extAttributes)
#set ($attrib = $entity.attributes.get($extattrib.index))
              <ng-container matColumnDef="${attrib.name}">
                <mat-header-cell *matHeaderCellDef>${extattrib.ext1}</mat-header-cell>
#if ( $attrib.isDateType() )
                <mat-cell *matCellDef="let element"> {{element.${attrib.name} | date:'dd/MM/yyyy'}} </mat-cell>
#else
				<mat-cell *matCellDef="let element"> {{element.${attrib.name}}} </mat-cell>
#end
              </ng-container>
#end
              <ng-container matColumnDef="_delete">
                <mat-header-cell *matHeaderCellDef></mat-header-cell>
                <mat-cell *matCellDef="let $LCentityName" (click)="deleteConfirmation(${entity.keyAttributesNamesAsString(', ', $idsPrefix, '')}); ${DOLLAR}event.stopPropagation();"> 
                  <i class="material-icons delete-data-icon">delete_forever</i>
                </mat-cell>
              </ng-container>              

              <mat-header-row *matHeaderRowDef="getDisplayedColumns()"></mat-header-row>
              <mat-row *matRowDef="let $LCentityName; columns: getDisplayedColumns();"  (click)="edit${entity.name}(${entity.keyAttributesNamesAsString(', ', $idsPrefix, '')})"></mat-row>
        </mat-table>
        <div class="footer">
          <mat-paginator class="paginator--centered" pageSize="10" showFirstLastButtons color="primary" hidePageSize="true" ></mat-paginator>
        </div>
    </mat-card-content>
 </mat-card>